/*! For license information please see main.js.LICENSE.txt */
var ChatWithYourDocuments;(()=>{"use strict";var e,t,n,r,o,s,i,a,l,c,u,d,p,h,f,g={5:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),o=n.n(r),s=n(314),i=n.n(s)()(o());i.push([e.id,"/* Settings Example Component Styles - Following BrainDrive theme pattern */\n\n/* Light theme variables (default) */\n:root {\n  --settings-bg-color: #ffffff;\n  --settings-text-color: #333333;\n  --settings-secondary-text: #666666;\n  --settings-border-color: rgba(0, 0, 0, 0.12);\n  --settings-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  --settings-error-bg: #fee2e2;\n  --settings-error-text: #b91c1c;\n  --settings-button-bg: #4299e1;\n  --settings-button-hover-bg: #3182ce;\n  --settings-button-text: #ffffff;\n}\n\n/* Dark theme variables */\n.dark-theme {\n  --settings-bg-color: #1e293b;\n  --settings-text-color: #f8fafc;\n  --settings-secondary-text: #cbd5e1;\n  --settings-border-color: rgba(30, 41, 59, 0.8);\n  --settings-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  --settings-error-bg: #450a0a;\n  --settings-error-text: #fecaca;\n  --settings-button-bg: #3b82f6;\n  --settings-button-hover-bg: #2563eb;\n  --settings-button-text: #ffffff;\n}\n\n/* Main container */\n.settings-example-container {\n  background-color: var(--settings-bg-color);\n  color: var(--settings-text-color);\n  border-radius: 8px;\n  padding: 20px;\n  margin: 10px 0;\n  box-shadow: var(--settings-card-shadow);\n  transition: all 0.3s ease;\n}\n\n/* Error message */\n.error-message {\n  background-color: var(--settings-error-bg);\n  color: var(--settings-error-text);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  border-left: 4px solid var(--settings-error-text);\n  transition: all 0.3s ease;\n}\n\n/* Settings content */\n.settings-content {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n/* Header */\n.settings-header {\n  text-align: center;\n  padding-bottom: 20px;\n  border-bottom: 1px solid var(--settings-border-color);\n  transition: border-color 0.3s ease;\n}\n\n.settings-header h2 {\n  margin: 0 0 8px 0;\n  font-size: 24px;\n  font-weight: 600;\n  color: var(--settings-text-color);\n  transition: color 0.3s ease;\n}\n\n.settings-header p {\n  margin: 0;\n  color: var(--settings-secondary-text);\n  font-size: 14px;\n  transition: color 0.3s ease;\n}\n\n/* Setting row */\n.setting-row {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px;\n  background-color: var(--settings-bg-color);\n  border: 1px solid var(--settings-border-color);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.setting-row:hover {\n  box-shadow: var(--settings-card-shadow);\n}\n\n.setting-icon {\n  font-size: 24px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--settings-button-bg);\n  border-radius: 50%;\n  color: var(--settings-button-text);\n  transition: all 0.3s ease;\n}\n\n.setting-content {\n  flex: 1;\n}\n\n.setting-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--settings-text-color);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n}\n\n.setting-description {\n  font-size: 14px;\n  color: var(--settings-secondary-text);\n  transition: color 0.3s ease;\n}\n\n.setting-control {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* Buttons */\n.theme-toggle-btn,\n.save-btn {\n  background-color: var(--settings-button-bg);\n  color: var(--settings-button-text);\n  border: none;\n  padding: 8px 16px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.theme-toggle-btn:hover,\n.save-btn:hover {\n  background-color: var(--settings-button-hover-bg);\n  transform: translateY(-1px);\n}\n\n.theme-toggle-btn:disabled,\n.save-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.theme-toggle-btn:active,\n.save-btn:active {\n  transform: translateY(0);\n}\n\n/* Plugin info section */\n.plugin-info {\n  background-color: var(--settings-bg-color);\n  border: 1px solid var(--settings-border-color);\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 20px;\n  transition: all 0.3s ease;\n}\n\n.plugin-info h3 {\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--settings-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-grid {\n  display: grid;\n  gap: 12px;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.info-item strong {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--settings-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-item ul {\n  margin: 4px 0 0 0;\n  padding-left: 20px;\n  list-style: none;\n}\n\n.info-item li {\n  font-size: 14px;\n  color: var(--settings-secondary-text);\n  margin-bottom: 2px;\n  transition: color 0.3s ease;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .settings-example-container {\n    padding: 16px;\n    margin: 8px 0;\n  }\n  \n  .setting-row {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n  \n  .setting-control {\n    width: 100%;\n    justify-content: flex-end;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* Animation for loading states */\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.5; }\n  100% { opacity: 1; }\n}\n\n.save-btn:disabled {\n  animation: pulse 1.5s infinite;\n}\n\n/* Focus styles for accessibility */\n.theme-toggle-btn:focus,\n.save-btn:focus {\n  outline: 2px solid var(--settings-button-bg);\n  outline-offset: 2px;\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .settings-example-container {\n    border: 2px solid var(--settings-text-color);\n  }\n  \n  .setting-row {\n    border: 2px solid var(--settings-border-color);\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .settings-example-container,\n  .setting-row,\n  .theme-toggle-btn,\n  .save-btn,\n  .error-message,\n  .settings-header,\n  .setting-title,\n  .setting-description,\n  .plugin-info,\n  .info-item strong,\n  .info-item li,\n  .setting-icon {\n    transition: none;\n  }\n  \n  .save-btn:disabled {\n    animation: none;\n  }\n}",""]);const a=i},20:(e,t,n)=>{var r=n(769),o=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,l={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:i.current}}t.jsx=l,t.jsxs=l},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=s[c]||0,d="".concat(c," ").concat(u);s[c]=u+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var a=n(s[i]);t[a].references--}for(var l=r(e,o),c=0;c<s.length;c++){var u=n(s[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},240:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne,metadata:()=>oe,version:()=>re});var r=n(848),o=n(769),s=n.n(o),i=n(72),a=n.n(i),l=n(825),c=n.n(l),u=n(659),d=n.n(u),p=n(56),h=n.n(p),f=n(159),g=n.n(f),m=n(113),x=n.n(m),v=n(324),y={};y.styleTagTransform=x(),y.setAttributes=h(),y.insert=d().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=g(),a()(v.A,y),v.A&&v.A.locals&&v.A.locals;const b=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},w=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),C=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const S=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>(0,o.createElement)("svg",{ref:c,...j,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:w("lucide",s),...!i&&!C(l)&&{"aria-hidden":"true"},...l},[...a.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(i)?i:[i]])),N=(e,t)=>{const n=(0,o.forwardRef)(({className:n,...r},s)=>{return(0,o.createElement)(S,{ref:s,iconNode:t,className:w(`lucide-${i=b(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var i});return n.displayName=b(e),n},k=N("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_=N("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),E=N("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),T=N("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),O=N("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var I=n(5),D={};D.styleTagTransform=x(),D.setAttributes=h(),D.insert=d().bind(null,"head"),D.domAPI=c(),D.insertStyleElement=g(),a()(I.A,D),I.A&&I.A.locals&&I.A.locals;var M,L=(M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},M(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){function t(t){var n=e.call(this,t)||this;return n.themeChangeListener=null,n.state={currentTheme:"light",isLoading:!1,error:null},n}L(t,e),t.prototype.componentDidMount=function(){return e=this,t=void 0,r=function(){var e,t,n;return function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(r){return console.log("SettingsExample componentDidMount - initializing..."),console.log("SettingsExample props received:",{pluginId:this.props.pluginId,moduleId:this.props.moduleId,instanceId:this.props.instanceId,hasServices:!!this.props.services,hasThemeService:(null===(e=this.props.services)||void 0===e?void 0:e.theme)?"YES":"NO",hasSettingsService:(null===(t=this.props.services)||void 0===t?void 0:t.settings)?"YES":"NO",hasApiService:(null===(n=this.props.services)||void 0===n?void 0:n.api)?"YES":"NO"}),this.initializeTheme(),[2]})},new((n=void 0)||(n=Promise))(function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())});var e,t,n,r},t.prototype.componentWillUnmount=function(){var e;(null===(e=this.props.services)||void 0===e?void 0:e.theme)&&this.themeChangeListener&&this.props.services.theme.removeThemeChangeListener(this.themeChangeListener)},t.prototype.initializeTheme=function(){var e,t=this;if(null===(e=this.props.services)||void 0===e?void 0:e.theme)try{console.log("Initializing theme service...");var n=this.props.services.theme.getCurrentTheme();console.log("Current theme retrieved:",n),this.setState({currentTheme:n}),this.themeChangeListener=function(e){console.log("Theme changed to:",e),t.setState({currentTheme:e})},console.log("Adding theme change listener..."),this.props.services.theme.addThemeChangeListener(this.themeChangeListener),console.log("Theme service initialized successfully")}catch(e){console.error("Error initializing theme service:",e),this.setState({error:"Failed to initialize theme service"})}else console.warn("Theme service not available"),this.setState({error:"Theme service not available"})},t.prototype.render=function(){var e,t,n,o=this.state,s=o.currentTheme,i=(o.isLoading,o.error);return(0,r.jsxs)("div",{className:"settings-example-container ".concat("dark"===s?"dark-theme":""),children:[i&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("strong",{children:"Error: "}),i]}),(0,r.jsxs)("div",{className:"settings-content",children:[(0,r.jsxs)("div",{className:"settings-header",children:[(0,r.jsx)("h2",{children:"This is the Settings Plugin Template!"}),(0,r.jsx)("p",{children:"A simple starting point for creating BrainDrive settings plugins."})]}),(0,r.jsxs)("div",{className:"plugin-info",children:[(0,r.jsx)("h3",{children:"Plugin Information"}),(0,r.jsxs)("div",{className:"info-grid",children:[(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("strong",{children:"Plugin ID:"})," ",this.props.pluginId||"Not provided"]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("strong",{children:"Module ID:"})," ",this.props.moduleId||"Not provided"]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("strong",{children:"Instance ID:"})," ",this.props.instanceId||"Not provided"]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("strong",{children:"Services Available:"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Theme: ",(null===(e=this.props.services)||void 0===e?void 0:e.theme)?"✅":"❌"]}),(0,r.jsxs)("li",{children:["Settings: ",(null===(t=this.props.services)||void 0===t?void 0:t.settings)?"✅":"❌"]}),(0,r.jsxs)("li",{children:["API: ",(null===(n=this.props.services)||void 0===n?void 0:n.api)?"✅":"❌"]})]})]})]})]})]})]})}}(s().Component);const P=N("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var A="http://0.0.0.0:8000",U=function(e){var t=e.session,n=e.messages,s=e.onMessageSent,i=e.setError,a=(0,o.useState)(""),l=a[0],c=a[1],u=(0,o.useState)(!1),d=u[0],p=u[1],h=(0,o.useRef)(null);(0,o.useEffect)(function(){!function(){var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()},[n]);var f=function(){return e=void 0,n=void 0,o=function(){var e,n;return function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(r){switch(r.label){case 0:if(!l.trim())return[2];p(!0),e=l,c(""),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,fetch("".concat(A,"/chat/message"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t.id,user_message:e})})];case 2:if(!r.sent().ok)throw new Error("Failed to send message");return s(),[3,5];case 3:return n=r.sent(),i(n.message),c(e),[3,5];case 4:return p(!1),[7];case 5:return[2]}})},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,a)}l((o=o.apply(e,n||[])).next())});var e,n,r,o};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border h-[600px] flex flex-col",children:[(0,r.jsxs)("div",{className:"p-4 border-b",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[n.length," messages"]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(function(e){return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg max-w-xs lg:max-w-md",children:e.user_message})}),(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg max-w-xs lg:max-w-md",children:e.assistant_response})}),e.retrieved_chunks&&e.retrieved_chunks.length>0&&(0,r.jsx)("div",{className:"text-xs text-gray-500 ml-4",children:(0,r.jsxs)("details",{children:[(0,r.jsxs)("summary",{className:"cursor-pointer hover:text-gray-700",children:[e.retrieved_chunks.length," source chunks used"]}),(0,r.jsx)("div",{className:"mt-2 space-y-1",children:e.retrieved_chunks.map(function(e,t){return(0,r.jsx)("div",{className:"bg-gray-50 p-2 rounded text-xs",children:e},t)})})]})})]},e.id)}),d&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:(0,r.jsx)(k,{className:"h-4 w-4 animate-spin"})})}),(0,r.jsx)("div",{ref:h})]}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:l,onChange:function(e){return c(e.target.value)},placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d,onKeyDown:function(e){"Enter"===e.key&&f()}}),(0,r.jsx)("button",{onClick:f,disabled:d||!l.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:(0,r.jsx)(P,{className:"h-4 w-4"})})]})})]})};const z=N("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),R=N("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},F.apply(this,arguments)},$=function(e){var t,n,s=e.collections,i=e.onCollectionSelect,a=e.onCollectionCreate,l=e.setError,c=(0,o.useState)(!1),u=c[0],d=c[1],p=(0,o.useState)({name:"",description:"",color:"#3B82F6"}),h=p[0],f=p[1];return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Collections"}),(0,r.jsxs)("button",{onClick:function(){return d(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,r.jsx)(z,{className:"h-4 w-4 mr-2"}),"New Collection"]})]}),u&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Create New Collection"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:h.name,onChange:function(e){return f(F(F({},h),{name:e.target.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter collection name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:h.description,onChange:function(e){return f(F(F({},h),{description:e.target.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter collection description"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,r.jsx)("input",{type:"color",value:h.color,onChange:function(e){return f(F(F({},h),{color:e.target.value}))},className:"w-20 h-10 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:function(){return e=void 0,t=void 0,r=function(){var e;return function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch("".concat(A,"/collections/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})];case 1:if(!t.sent().ok)throw new Error("Failed to create collection");return f({name:"",description:"",color:"#3B82F6"}),d(!1),a(),[3,3];case 2:return e=t.sent(),l(e.message),[3,3];case 3:return[2]}})},new((n=void 0)||(n=Promise))(function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())});var e,t,n,r},disabled:!(null===(t=h.name)||void 0===t?void 0:t.trim())||!(null===(n=h.description)||void 0===n?void 0:n.trim()),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Create Collection"}),(0,r.jsx)("button",{onClick:function(){return d(!1)},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(function(e){return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:function(){return i(e)},children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:e.color}}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:[e.document_count," documents"]}),(0,r.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})},e.id)})}),0===s.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(R,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create your first collection to get started"})]})]})};const V=N("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),B=N("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),H=N("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),W=N("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Y,q,G,J,K=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})},Z=function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Q=function(e){var t=e.collection,n=e.documents,s=e.chatSessions,i=e.onDocumentUpload,a=e.onDocumentDelete,l=e.onChatSessionCreate,c=e.onChatSessionSelect,u=e.setError,d=(0,o.useState)(!1),p=d[0],h=d[1],f=(0,o.useState)(!1),g=f[0],m=f[1],x=(0,o.useState)(""),v=x[0],y=x[1],b=(0,o.useRef)(null),w=function(){return K(void 0,void 0,void 0,function(){var e;return Z(this,function(n){switch(n.label){case 0:if(!v.trim())return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch("".concat(A,"/chat/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,collection_id:t.id})})];case 2:if(!n.sent().ok)throw new Error("Failed to create chat session");return y(""),m(!1),l(),[3,4];case 3:return e=n.sent(),u(e.message),[3,4];case 4:return[2]}})})},C=function(e){switch(e){case"PROCESSED":return(0,r.jsx)(V,{className:"h-5 w-5 text-green-500"});case"PROCESSING":return(0,r.jsx)(k,{className:"h-5 w-5 text-blue-500 animate-spin"});case"FAILED":return(0,r.jsx)(_,{className:"h-5 w-5 text-red-500"});default:return(0,r.jsx)(B,{className:"h-5 w-5 text-gray-500"})}};return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Documents"}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("input",{type:"file",ref:b,onChange:function(e){return K(void 0,void 0,void 0,function(){var n,r,o,s;return Z(this,function(a){switch(a.label){case 0:if(!(n=null===(s=e.target.files)||void 0===s?void 0:s[0]))return[2];h(!0),(r=new FormData).append("file",n),r.append("collection_id",t.id),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,fetch("".concat(A,"/documents/"),{method:"POST",body:r})];case 2:if(!a.sent().ok)throw new Error("Failed to upload document");return i(),[3,5];case 3:return o=a.sent(),u(o.message),[3,5];case 4:return h(!1),e.target.value="",[7];case 5:return[2]}})})},accept:".pdf,.doc,.docx",className:"hidden"}),(0,r.jsxs)("button",{onClick:function(){var e;return null===(e=b.current)||void 0===e?void 0:e.click()},disabled:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[p?(0,r.jsx)(k,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(H,{className:"h-4 w-4 mr-2"}),p?"Uploading...":"Upload Document"]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:0===n.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(T,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Upload your first document to get started"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:n.map(function(e){return(0,r.jsx)("div",{className:"p-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[C(e.status),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.original_filename}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.document_type," • ",(e.file_size/1024).toFixed(1)," KB",e.chunk_count>0&&" • ".concat(e.chunk_count," chunks")]})]})]}),(0,r.jsx)("button",{onClick:function(){return t=e.id,K(void 0,void 0,void 0,function(){var e;return Z(this,function(n){switch(n.label){case 0:if(!confirm("Are you sure you want to delete this document?"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch("".concat(A,"/documents/").concat(t),{method:"DELETE"})];case 2:if(!n.sent().ok)throw new Error("Failed to delete document");return a(),[3,4];case 3:return e=n.sent(),u(e.message),[3,4];case 4:return[2]}})});var t},className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(W,{className:"h-4 w-4"})})]})},e.id)})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Chat Sessions"}),(0,r.jsxs)("button",{onClick:function(){return m(!0)},className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center text-sm",children:[(0,r.jsx)(z,{className:"h-4 w-4 mr-1"}),"New Session"]})]}),g&&(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",value:v,onChange:function(e){return y(e.target.value)},placeholder:"Session name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:function(e){"Enter"===e.key&&w()}}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:w,disabled:!v.trim(),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:"Create"}),(0,r.jsx)("button",{onClick:function(){return m(!1)},className:"bg-gray-300 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-400 transition-colors text-sm",children:"Cancel"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(O,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No chat sessions"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Create a session to start chatting"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:s.map(function(e){return(0,r.jsxs)("div",{className:"p-3 hover:bg-gray-50 cursor-pointer",onClick:function(){return c(e)},children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.message_count," messages • ",new Date(e.created_at).toLocaleDateString()]})]},e.id)})})})]})]})};!function(e){e.COLLECTIONS="collections",e.DOCUMENTS="documents",e.CHAT="chat"}(Y||(Y={})),function(e){e.USER="user",e.ASSISTANT="assistant",e.SYSTEM="system"}(q||(q={})),function(e){e.UPLOADING="uploading",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed"}(G||(G={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ARCHIVED="archived"}(J||(J={}));var X=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})},te=function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};const ne=function(e){function t(t){var n,r=e.call(this,t)||this;return r._isMounted=!1,r.themeChangeListener=null,r.pageContextUnsubscribe=null,r.refreshInterval=null,r.apiBaseUrl=(null===(n=t.config)||void 0===n?void 0:n.apiBaseUrl)||A,r.state={currentView:Y.COLLECTIONS,selectedCollection:null,selectedChatSession:null,collections:[],documents:[],chatSessions:[],chatMessages:[],loading:!1,error:null,currentTheme:"light",isInitializing:!0},r.loadCollections=r.loadCollections.bind(r),r.loadDocuments=r.loadDocuments.bind(r),r.loadChatSessions=r.loadChatSessions.bind(r),r.loadChatMessages=r.loadChatMessages.bind(r),r.handleViewChange=r.handleViewChange.bind(r),r.handleCollectionSelect=r.handleCollectionSelect.bind(r),r.handleChatSessionSelect=r.handleChatSessionSelect.bind(r),r.handleBack=r.handleBack.bind(r),r}return X(t,e),t.prototype.componentDidMount=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(t){switch(t.label){case 0:this._isMounted=!0,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.initializeServices()];case 2:return t.sent(),[4,this.loadInitialData()];case 3:return t.sent(),this.setState({isInitializing:!1}),[3,5];case 4:return e=t.sent(),console.error("ChatCollectionsPlugin: Failed to initialize:",e),this.setState({error:"Failed to initialize plugin",isInitializing:!1}),[3,5];case 5:return[2]}})})},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this.cleanupServices()},t.prototype.componentDidUpdate=function(e,t){var n,r;this.state.selectedCollection&&(null===(n=t.selectedCollection)||void 0===n?void 0:n.id)!==this.state.selectedCollection.id&&(this.loadDocuments(this.state.selectedCollection.id),this.loadChatSessions()),this.state.selectedChatSession&&(null===(r=t.selectedChatSession)||void 0===r?void 0:r.id)!==this.state.selectedChatSession.id&&this.loadChatMessages(this.state.selectedChatSession.id)},t.prototype.initializeServices=function(){return ee(this,void 0,void 0,function(){var e,t,n,r,o,s,i=this;return te(this,function(a){switch(a.label){case 0:if((e=this.props.services).theme&&(t=e.theme.getCurrentTheme(),this.setState({currentTheme:t}),this.themeChangeListener=function(e){i.setState({currentTheme:e})},e.theme.addThemeChangeListener(this.themeChangeListener)),e.pageContext&&(this.pageContextUnsubscribe=e.pageContext.onPageContextChange(function(e){console.log("ChatCollectionsPlugin: Page context changed:",e)})),e.event&&(e.event.on("collection:created",this.handleCollectionCreated.bind(this)),e.event.on("document:uploaded",this.handleDocumentUploaded.bind(this)),e.event.on("chat:message:sent",this.handleChatMessageSent.bind(this))),!e.settings)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.settings.getSetting("chat_collections_config")];case 2:return(n=a.sent())&&console.log("ChatCollectionsPlugin: Loaded saved config:",n),[3,4];case 3:return r=a.sent(),console.warn("ChatCollectionsPlugin: Failed to load settings:",r),[3,4];case 4:return(o=null===(s=this.props.config)||void 0===s?void 0:s.refreshInterval)&&o>0&&(this.refreshInterval=setInterval(function(){i.refreshData()},1e3*o)),[2]}})})},t.prototype.cleanupServices=function(){var e=this.props.services;e.theme&&this.themeChangeListener&&e.theme.removeThemeChangeListener(this.themeChangeListener),this.pageContextUnsubscribe&&this.pageContextUnsubscribe(),e.event&&(e.event.off("collection:created",this.handleCollectionCreated),e.event.off("document:uploaded",this.handleDocumentUploaded),e.event.off("chat:message:sent",this.handleChatMessageSent)),this.refreshInterval&&clearInterval(this.refreshInterval)},t.prototype.loadInitialData=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(t){switch(t.label){case 0:this.setState({loading:!0,error:null}),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,this.loadCollections()];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),console.error("ChatCollectionsPlugin: Failed to load initial data:",e),this.setState({error:"Failed to load initial data"}),[3,5];case 4:return this.setState({loading:!1}),[7];case 5:return[2]}})})},t.prototype.refreshData=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(t){switch(t.label){case 0:if(this.state.loading)return[2];t.label=1;case 1:return t.trys.push([1,6,,7]),[4,this.loadCollections()];case 2:return t.sent(),this.state.selectedCollection?[4,this.loadDocuments(this.state.selectedCollection.id)]:[3,5];case 3:return t.sent(),[4,this.loadChatSessions()];case 4:t.sent(),t.label=5;case 5:return[3,7];case 6:return e=t.sent(),console.error("ChatCollectionsPlugin: Failed to refresh data:",e),[3,7];case 7:return[2]}})})},t.prototype.handleCollectionCreated=function(e){this.loadCollections()},t.prototype.handleDocumentUploaded=function(e){this.state.selectedCollection&&this.loadDocuments(this.state.selectedCollection.id)},t.prototype.handleChatMessageSent=function(e){this.state.selectedChatSession&&this.loadChatMessages(this.state.selectedChatSession.id)},t.prototype.loadCollections=function(){return ee(this,void 0,void 0,function(){var e,t,n,r;return te(this,function(o){switch(o.label){case 0:if(!this._isMounted&&!this.state)return[2];o.label=1;case 1:return o.trys.push([1,7,,8]),e=this.props.services,t=void 0,e.api?[4,e.api.get("".concat(this.apiBaseUrl,"/collections/"))]:[3,3];case 2:return t=o.sent(),[3,6];case 3:return[4,fetch("".concat(this.apiBaseUrl,"/collections/"))];case 4:if(!(n=o.sent()).ok)throw new Error("Failed to load collections");return[4,n.json()];case 5:t=o.sent(),o.label=6;case 6:return this.setState({collections:t}),console.log("Collections response: ",t),[3,8];case 7:return r=o.sent(),this.setState({error:r.message}),[3,8];case 8:return[2]}})})},t.prototype.loadDocuments=function(e){return ee(this,void 0,void 0,function(){var t,n,r,o;return te(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),t=this.props.services,n=void 0,t.api?[4,t.api.get("".concat(this.apiBaseUrl,"/documents/?collection_id=").concat(e))]:[3,2];case 1:return n=s.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/documents/?collection_id=").concat(e))];case 3:if(!(r=s.sent()).ok)throw new Error("Failed to load documents");return[4,r.json()];case 4:n=s.sent(),s.label=5;case 5:return this.setState({documents:n}),[3,7];case 6:return o=s.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},t.prototype.loadChatSessions=function(){return ee(this,void 0,void 0,function(){var e,t,n,r,o,s=this;return te(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),e=this.props.services,t=void 0,e.api?[4,e.api.get("".concat(this.apiBaseUrl,"/chat/sessions"))]:[3,2];case 1:return t=i.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/chat/sessions"))];case 3:if(!(n=i.sent()).ok)throw new Error("Failed to load chat sessions");return[4,n.json()];case 4:t=i.sent(),i.label=5;case 5:return r=t.filter(function(e){var t;return e.collection_id===(null===(t=s.state.selectedCollection)||void 0===t?void 0:t.id)}),this.setState({chatSessions:r}),[3,7];case 6:return o=i.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},t.prototype.loadChatMessages=function(e){return ee(this,void 0,void 0,function(){var t,n,r,o;return te(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),t=this.props.services,n=void 0,t.api?[4,t.api.get("".concat(this.apiBaseUrl,"/chat/messages?session_id=").concat(e))]:[3,2];case 1:return n=s.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/chat/messages?session_id=").concat(e))];case 3:if(!(r=s.sent()).ok)throw new Error("Failed to load messages");return[4,r.json()];case 4:n=s.sent(),s.label=5;case 5:return this.setState({chatMessages:n}),[3,7];case 6:return o=s.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},t.prototype.handleViewChange=function(e){this.setState({currentView:e,error:null})},t.prototype.handleCollectionSelect=function(e){this.setState({selectedCollection:e,selectedChatSession:null,chatMessages:[],currentView:this.state.currentView===Y.COLLECTIONS?Y.DOCUMENTS:this.state.currentView}),this.props.services.event&&this.props.services.event.emit("collection:selected",e)},t.prototype.handleChatSessionSelect=function(e){this.setState({selectedChatSession:e,currentView:Y.CHAT}),this.props.services.event&&this.props.services.event.emit("chat:session:selected",e)},t.prototype.handleBack=function(){var e=this.state.currentView;e===Y.CHAT?this.setState({currentView:Y.DOCUMENTS,selectedChatSession:null,chatMessages:[]}):e===Y.DOCUMENTS&&this.setState({currentView:Y.COLLECTIONS,selectedCollection:null,documents:[],chatSessions:[]})},t.prototype.renderLoading=function(){return(0,r.jsxs)("div",{className:"plugin-template-loading",children:[(0,r.jsx)("div",{className:"loading-spinner",children:(0,r.jsx)(k,{className:"h-8 w-8 animate-spin"})}),(0,r.jsx)("p",{children:"Loading Chat Collections..."})]})},t.prototype.renderError=function(){var e=this;return(0,r.jsxs)("div",{className:"plugin-template-error",children:[(0,r.jsx)("div",{className:"error-icon",children:(0,r.jsx)(_,{className:"h-8 w-8 text-red-500"})}),(0,r.jsx)("p",{children:this.state.error}),(0,r.jsx)("button",{onClick:function(){return e.setState({error:null})},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})},t.prototype.renderContent=function(){var e=this,t=this.state,n=t.currentView,o=t.selectedCollection,s=t.selectedChatSession,i=t.collections,a=t.documents,l=t.chatSessions,c=t.chatMessages,u=t.error;return(0,r.jsxs)("div",{className:"chat-collections-plugin-content",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[n!==Y.COLLECTIONS&&(0,r.jsxs)("button",{onClick:this.handleBack,className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(E,{className:"h-5 w-5 mr-2"}),"Back"]}),(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[n===Y.COLLECTIONS&&"Collections",n===Y.DOCUMENTS&&"Documents - ".concat(null==o?void 0:o.name),n===Y.CHAT&&"Chat - ".concat(null==s?void 0:s.name)]})]}),o&&(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:function(){return e.handleViewChange(Y.DOCUMENTS)},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(n===Y.DOCUMENTS?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)(T,{className:"h-4 w-4 inline mr-2"}),"Documents"]}),(0,r.jsxs)("button",{onClick:function(){return e.handleViewChange(Y.CHAT)},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(n===Y.CHAT?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)(O,{className:"h-4 w-4 inline mr-2"}),"Chat"]})]})]})})}),u&&(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[(0,r.jsx)(_,{className:"h-5 w-5 text-red-500 mr-3"}),(0,r.jsx)("span",{className:"text-red-700",children:u}),(0,r.jsx)("button",{onClick:function(){return e.setState({error:null})},className:"ml-auto text-red-500 hover:text-red-700",children:"×"})]})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[n===Y.COLLECTIONS&&(0,r.jsx)($,{collections:i,onCollectionSelect:this.handleCollectionSelect,onCollectionCreate:this.loadCollections,setError:function(t){return e.setState({error:t})}}),n===Y.DOCUMENTS&&o&&(0,r.jsx)(Q,{collection:o,documents:a,chatSessions:l,onDocumentUpload:function(){return e.loadDocuments(o.id)},onDocumentDelete:function(){return e.loadDocuments(o.id)},onChatSessionCreate:this.loadChatSessions,onChatSessionSelect:this.handleChatSessionSelect,setError:function(t){return e.setState({error:t})}}),n===Y.CHAT&&s&&(0,r.jsx)(U,{session:s,messages:c,onMessageSent:function(){return e.loadChatMessages(s.id)},setError:function(t){return e.setState({error:t})}})]})]})},t.prototype.render=function(){var e=this.state,t=e.currentTheme,n=e.isInitializing,o=e.error;return(0,r.jsx)("div",{className:"plugin-template chat-collections-plugin ".concat("dark"===t?"dark-theme":""),children:n?this.renderLoading():o&&!this.state.collections.length?this.renderError():this.renderContent()})},t}(s().Component);var re="1.0.0",oe={name:"ChatWithYourDocuments",description:"A chat with your documents BrainDrive Plugin",version:"1.0.0",author:"BrainDrive"}},287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var b=y.prototype=new v;b.constructor=y,g(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var o,s={},i=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,o)&&!S.hasOwnProperty(o)&&(s[o]=t[o]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===s[o]&&(s[o]=l[o]);return{$$typeof:n,type:e,key:i,ref:a,props:s,_owner:j.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,o,s,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,w(i)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),T(i,t,o,"",function(e){return e})):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(a=e[c],c);l+=T(a,t,o,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,o,u=s+E(a,c++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:j};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=o,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=P,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),s=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},324:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),o=n.n(r),s=n(314),i=n.n(s)()(o());i.push([e.id,"/* Plugin Template Styles - Following BrainDrive theme pattern */\n\n/* Light theme variables (default) */\n:root {\n  --plugin-bg-color: #ffffff;\n  --plugin-text-color: #333333;\n  --plugin-secondary-text: #666666;\n  --plugin-border-color: rgba(0, 0, 0, 0.12);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  --plugin-error-bg: #fee2e2;\n  --plugin-error-text: #b91c1c;\n  --plugin-button-bg: #4299e1;\n  --plugin-button-hover-bg: #3182ce;\n  --plugin-button-text: #ffffff;\n}\n\n/* Dark theme variables */\n.dark-theme {\n  --plugin-bg-color: #1e293b;\n  --plugin-text-color: #f8fafc;\n  --plugin-secondary-text: #cbd5e1;\n  --plugin-border-color: rgba(30, 41, 59, 0.8);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  --plugin-error-bg: #450a0a;\n  --plugin-error-text: #fecaca;\n  --plugin-button-bg: #3b82f6;\n  --plugin-button-hover-bg: #2563eb;\n  --plugin-button-text: #ffffff;\n}\n\n/* Main plugin container */\n.plugin-template {\n  background-color: var(--plugin-bg-color);\n  color: var(--plugin-text-color);\n  border-radius: 8px;\n  padding: 20px;\n  margin: 10px 0;\n  box-shadow: var(--plugin-card-shadow);\n  transition: all 0.3s ease;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Loading state */\n.plugin-template-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n\n.loading-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--plugin-border-color);\n  border-top: 3px solid var(--plugin-button-bg);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 16px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.plugin-template-loading p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  transition: color 0.3s ease;\n}\n\n/* Error state */\n.plugin-template-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n\n.error-icon {\n  font-size: 32px;\n  margin-bottom: 16px;\n}\n\n.plugin-template-error p {\n  margin: 0;\n  color: var(--plugin-error-text);\n  background-color: var(--plugin-error-bg);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n/* Content layout */\n.plugin-template-content {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.plugin-header {\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--plugin-border-color);\n  transition: border-color 0.3s ease;\n}\n\n.plugin-header h3 {\n  margin: 0 0 8px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.plugin-header p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  font-size: 14px;\n  transition: color 0.3s ease;\n}\n\n/* Plugin info section */\n.plugin-info {\n  background-color: var(--plugin-bg-color);\n  border: 1px solid var(--plugin-border-color);\n  border-radius: 8px;\n  padding: 20px;\n  transition: all 0.3s ease;\n}\n\n.plugin-info h4 {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-grid {\n  display: grid;\n  gap: 16px;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.info-item strong {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-item ul {\n  margin: 4px 0 0 0;\n  padding-left: 20px;\n  list-style: none;\n}\n\n.info-item li {\n  font-size: 14px;\n  color: var(--plugin-secondary-text);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .plugin-template {\n    padding: 16px;\n    margin: 8px 0;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .plugin-template {\n    border: 2px solid var(--plugin-text-color);\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .plugin-template,\n  .plugin-header,\n  .plugin-info,\n  .info-item strong,\n  .info-item li,\n  .plugin-template-loading p {\n    transition: none;\n  }\n  \n  .loading-spinner {\n    animation: none;\n  }\n}",""]);const a=i},540:(e,t,n)=>{e.exports=n(287)},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{e.exports=n(20)}},m={};function x(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={id:e,exports:{}};return g[e](n,n.exports,x),n.exports}x.m=g,x.c=m,x.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return x.d(t,{a:t}),t},x.d=(e,t)=>{for(var n in t)x.o(t,n)&&!x.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},x.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),x.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{x.S={};var e={},t={};x.I=(n,r)=>{r||(r=[]);var o=t[n];if(o||(o=t[n]={}),!(r.indexOf(o)>=0)){if(r.push(o),e[n])return e[n];x.o(x.S,n)||(x.S[n]={});var s=x.S[n],i="ChatWithYourDocuments",a=[];return"default"===n&&((e,t)=>{var n=s[e]=s[e]||{},r=n[t];(!r||!r.loaded&&(0!=!r.eager||i>r.from))&&(n[t]={get:()=>()=>x(540),from:i,eager:!0})})("react","18.3.1"),e[n]=a.length?Promise.all(a).then(()=>e[n]=1):1}}})(),e=e=>{var t=e=>e.split(".").map(e=>+e==e?+e:e),n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=n[1]?t(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,t(n[2]))),n[3]&&(r.push([]),r.push.apply(r,t(n[3]))),r},t=(t,n)=>{t=e(t),n=e(n);for(var r=0;;){if(r>=t.length)return r<n.length&&"u"!=(typeof n[r])[0];var o=t[r],s=(typeof o)[0];if(r>=n.length)return"u"==s;var i=n[r],a=(typeof i)[0];if(s!=a)return"o"==s&&"n"==a||"s"==a||"u"==s;if("o"!=s&&"u"!=s&&o!=i)return o<i;r++}},n=e=>{var t=e[0],r="";if(1===e.length)return"*";if(t+.5){r+=0==t?">=":-1==t?"<":1==t?"^":2==t?"~":t>0?"=":"!=";for(var o=1,s=1;s<e.length;s++)o--,r+="u"==(typeof(a=e[s]))[0]?"-":(o>0?".":"")+(o=2,a);return r}var i=[];for(s=1;s<e.length;s++){var a=e[s];i.push(0===a?"not("+l()+")":1===a?"("+l()+" || "+l()+")":2===a?i.pop()+" "+i.pop():n(a))}return l();function l(){return i.pop().replace(/^\((.+)\)$/,"$1")}},r=(t,n)=>{if(0 in t){n=e(n);var o=t[0],s=o<0;s&&(o=-o-1);for(var i=0,a=1,l=!0;;a++,i++){var c,u,d=a<t.length?(typeof t[a])[0]:"";if(i>=n.length||"o"==(u=(typeof(c=n[i]))[0]))return!l||("u"==d?a>o&&!s:""==d!=s);if("u"==u){if(!l||"u"!=d)return!1}else if(l)if(d==u)if(a<=o){if(c!=t[a])return!1}else{if(s?c>t[a]:c<t[a])return!1;c!=t[a]&&(l=!1)}else if("s"!=d&&"n"!=d){if(s||a<=o)return!1;l=!1,a--}else{if(a<=o||u<d!=s)return!1;l=!1}else"s"!=d&&"n"!=d&&(l=!1,a--)}}var p=[],h=p.pop.bind(p);for(i=1;i<t.length;i++){var f=t[i];p.push(1==f?h()|h():2==f?h()&h():f?r(f,n):!h())}return!!h()},o=(e,t)=>e&&x.o(e,t),s=e=>(e.loaded=1,e.get()),i=e=>Object.keys(e).reduce((t,n)=>(e[n].eager&&(t[n]=e[n]),t),{}),a=(e,n,r)=>{var o=r?i(e[n]):e[n];return Object.keys(o).reduce((e,n)=>!e||!o[e].loaded&&t(e,n)?n:e,0)},l=(e,t,r,o)=>"Unsatisfied version "+r+" from "+(r&&e[t][r].from)+" of shared singleton module "+t+" (required "+n(o)+")",c=e=>{throw new Error(e)},u=e=>{"undefined"!=typeof console&&console.warn&&console.warn(e)},d=(e,t,n)=>n?n():((e,t)=>c("Shared module "+t+" doesn't exist in shared scope "+e))(e,t),p=(e=>function(t,n,r,o,s){var i=x.I(t);return i&&i.then&&!r?i.then(e.bind(e,t,x.S[t],n,!1,o,s)):e(t,x.S[t],n,r,o,s)})((e,t,n,i,c,p)=>{if(!o(t,n))return d(e,n,p);var h=a(t,n,i);return r(c,h)||u(l(t,n,h,c)),s(t[n][h])}),h={},f={769:()=>p("default","react",!0,[1,18,2,0],()=>()=>x(540))},[769].forEach(e=>{x.m[e]=t=>{h[e]=0,delete x.c[e];var n=f[e]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=n()}}),x.nc=void 0;var v=x(240);ChatWithYourDocuments=v})();